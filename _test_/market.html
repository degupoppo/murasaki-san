
<!DOCTYPE html>
<html lang="en">

<script src="lib/web3.min.js"></script>
<script src="src/js/array_item.js"></script>
<script src="src/js/share.js"></script>
<script> init_web3(); </script>
<script src="src/js/market.js"></script>

<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.7">
	<title>Murasaki-san Item Market</title>
	<link rel="stylesheet" type="text/css" href="lib/datatables.min.css"/>
	<script type="text/javascript" language="javascript" src="lib/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" language="javascript" src="lib/datatables.min.js"></script>
    <link rel="stylesheet" href="src/css/simple.css">
    <link rel="stylesheet" href="src/css/style.css">
    <link rel="stylesheet" href="src/css/datatable.css">
    <link rel="icon" href="src/png/favicon.png" />
    <link rel="apple-touch-icon" href="src/png/favicon.png">
</head>

<body>

<header>
    <nav>
      <a href="index.html"><b>&#x1f3e0; Home</b></a>
      <a href="house.html" ><b>&#x1f497; Play</b></a>
      <a href="market.html" class="current"><b>&#x1f6d2; Market</b></a>
      <a href="https://twitter.com/degupoppo" >Twitter</a>
      <a href="https://github.com/degupoppo/murasakisan/" >GitHub</a>
    </nav>
    <h1>
        <img src="src/png/item_basic_sweet_potato.png" width="40" height="40">
        Item Marketplace
        <img src="src/png/item_basic_sweet_potato.png" width="40" height="40">
    </h1>
    <p><center>
        You can buy and sell crafted item NFTs in the marketplace.<br>
        Platform Fee is 5%. $ASTR is used as the currency token.
    </center></p>
</header>

<main>


<p><center><code class="language-plaintext highlighter-rouge">
Only wallets with an active murasaki-san SBT<br>
can use this Marketplace.
</code></center></p>


    <h3>Item Market &#127873;</h3>
	<table id="table_onMarketItems" class="display">
		<thead><tr>
			<th style="width:50px;"><center>ID</center></th>
			<th><center>Type</center></th>
            <th><center>Rarity</center></th>
			<th><center>Crafter</center></th>
			<th><center>Price<br>($ASTR)</center></th>
			<th><center>Action</center></th>
		</tr></thead>
		<tbody id="tbody_sellingItems"></tbody>
	</table>

	<p>
	<b>&#x1FAA7; Recent Activity &#x1FAA7;</b><br>
	<div id="recentActivity"></div>
    </p>

    <h3>Your Sellings on the Market &#127926;</h3>
	<table id="talbe_sellingItems" class="display">
		<thead><tr>
			<th style="width:50px;"><center>ID</center></th>
			<th><center>Type</center></th>
            <th><center>Rarity</center></th>
			<th><center>Crafter</center></th>
			<th><center>Price<br>($ASTR)</center></th>
			<th><center>Action</center></th>
		</tr></thead>
		<tbody id="tbody_listedItems"></tbody>
	</table>

    <h3>Your Items in the House &#127752;</h3>
    <p><code class="language-plaintext highlighter-rouge">
        Before selling, please approve the Market Contract:
        <button id="button_approve" onclick='approve();'>Approve</button><br>
    </code></p>
	<table id="table_userItems" class="display">
	    <thead><tr>
            <th style="width:50px;"><center>ID</center></th>
            <th><center>Type</center></th>
            <th><center>Rarity</center></th>
            <th><center>Crafter</center></th>
            <th><center>Selling Price<br>($ASTR)</center></th>
        </tr></thead>
        <tbody id="tbody_myItems"></tbody>
	</table>

	<p>
	<b>&#127872; Send Item &#127872;</b><br>
	You can transfer your items to the other Murasaki-san:<br>
    Item ID: <input type="number" id="transfer_item_id" style="width:80px;">
    &nbsp;&nbsp;to Murasaki-san: <input type="number" id="transfer_summoner" style="width:80px;">
    &nbsp;&nbsp;<button onclick="transfer_item();">Send Item</button><br>
	<code class="language-plaintext highlighter-rouge">
    ⚠ <b>CAUTION!</b> ⚠<br>
    Obvious botting play using multi-wallets will be penalized.<br>
    </code>
    </p>

    <script>
        loading_in_html();
    </script>

</main>

<footer>
        Developper's wallet: 0x2F7448B62134e52C2f46454d0089Ae21B5248805<br>
        Donation:
        &nbsp;
        <button style="height:28px;font-size:80%" onclick="donate(1);">
            <script type="text/javascript">write_icon(1)</script>&nbsp;1 $ASTR
        </button>
        &nbsp;
        <button style="height:28px;font-size:80%" onclick="donate(10);">
            <script type="text/javascript">write_icon(10)</script>&nbsp;10 $ASTR
        </button>
        &nbsp;
        <button style="height:28px;font-size:80%" onclick="donate(100);">
            <script type="text/javascript">write_icon(100)</script>&nbsp;100 $ASTR
        </button>
</footer>

</body>
</html>
