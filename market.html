
<!DOCTYPE html>
<html lang="en">

<script src="lib/web3.min.js"></script>
<script src="src/js/array_item.js"></script>
<script src="src/js/contracts.js"></script>
<script src="src/js/share.js"></script>
<script src="src/js/market.js"></script>



<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=0.9">

<link rel="stylesheet" type="text/css" href="lib/datatables.min.css"/>
<link rel="stylesheet" href="src/css/datatable.css">
<script type="text/javascript" language="javascript" src="lib/jquery-3.6.0.min.js"></script>
<script type="text/javascript" language="javascript" src="lib/datatables.min.js"></script>

<title>Murasaki-san Item Market</title>
<meta name="description" content="Murasaki-san is a virtual pet that lives in your wallet on Astar Network." />
<link rel="stylesheet" href="src/css/simple2.css">
<link rel="stylesheet" href="src/css/style.css">

<link rel="icon" href="src/png/favicon.png" />
<link rel="apple-touch-icon" href="src/png/favicon.png">

<meta property="og:title" content="Murasaki-san Item Market">
<meta property="og:image" content="src/png/favicon.png">
<meta property="og:url" content="https://murasaki-san.com/">
<meta property="og:description" content="Murasaki-san is a virtual pet that lives in your wallet on Astar Network.">

<script src="https://cdn.jsdelivr.net/npm/@twemoji/api@latest/dist/twemoji.min.js" crossorigin="anonymous"></script>



</head>


<body>


<header>

<nav>
<a href="index.html"><b>&#x1f3e0; Home</b></a>
<a href="house.html"><b>&#x2764; Play</b></a>
<a href="market.html" class="current"><b>&#x1f6d2; Market</b></a>
<a href="info.html"><b>&#x1f4d7; Info</b></a>
&nbsp;<span id="button_connect"><button onclick="init_web3();" style="width:100px;">Connect</button></span>
</nav>


<h1>
Item Marketplace
</h1>
<p><center>
You can purchase and trade crafted item NFTs on the marketplace.<br>
There is a <b>5%</b> platform fee and the currency token used is <b>$ASTR</b>.
</center></p>

</header>


<main>


<h3>Marketplace Rules &#128216;</h3>

<ul>
<li><b>Wallets that have an active Murasaki-san SBT</b> can use this marketplace.
<li><b>Dutch auction mechanism</b>: Items listed for less than <b>500 $ASTR</b> will be pre-listed using the Dutch auction mechanism. The auction will start at a price of 500 $ASTR and will decrease to the listing price over a 24 hr period. The item will then remain at the listing price unless the owner unlists it.
<li><b><a href="buyback.html">Buyback Treasury</a>:</b> Players can choose to list their owned NFTs for auction on the Marketplace or burn them in the Buyback Treasury at a fixed price. The Minimum listing price is set at the buyback price or 1.00 $ASTR, whichever is higher.
</ul>

<br>


<h3>Item Market &#x1f6d2;</h3>

<table id="table_onMarketItems" class="display" style="width:100%;">
	<thead><tr>
		<th style="width:25px;"><center>ID</center></th>
		<th><center>Type</center></th>
        <th><center>Rarity</center></th>
		<th><center>Crafter</center></th>
		<th><center>Price<br>($ASTR)</center></th>
		<th><center>Action</center></th>
	</tr></thead>
	<tbody id="tbody_sellingItems"></tbody>
</table>


<p style="text-align:right">
Total Trading Volume: <b><span id="totalTradingVolume"></span> $ASTR</b><br>
Total Trading Count: <b><span id="totalTradingCount"></span></b><br>
</p>

<p>
<b>&#x1FAA7; Recent Activity &#x1FAA7;</b><br>
<div id="recentActivity">&nbsp;Loading...</div>
</p>

<br>

<h3>Your Sellings on the Market &#127926;</h3>
<table id="talbe_sellingItems" class="display" style="width:100%;">
	<thead><tr>
		<th style="width:25px;"><center>ID</center></th>
		<th><center>Type</center></th>
        <th><center>Rarity</center></th>
		<th><center>Crafter</center></th>
		<th><center>Price<br>($ASTR)</center></th>
		<th><center>Action</center></th>
	</tr></thead>
	<tbody id="tbody_listedItems"></tbody>
</table>
<br>

<h3>Your Items in the House &#127752;</h3>
<p><code class="language-plaintext highlighter-rouge">
    Before listing, please approve the Market Contract:
    <button id="button_approve" onclick='approve();'>Approve</button><br>
</code></p>
<table id="table_userItems" class="display" style="width:100%;">
    <thead><tr>
        <th style="width:25px;"><center>ID</center></th>
        <th><center>Type</center></th>
        <th><center>Rarity</center></th>
        <th><center>Crafter</center></th>
        <th><center>Listing Price<br>($ASTR)</center></th>
    </tr></thead>
    <tbody id="tbody_myItems"></tbody>
</table>
<br>

<p>
<b><font size="+2">Send Item &#127873;</b></font><br>
</p>
<p>
The player can transfer or gift their items directly to another Murasaki-san without using the Marketplace, but they will need to pay <b>a transfer fee</b> to ensure fair gameplay and prevent botting. The transfer fee is subject to adjustment and it may be removed in the future.<br>
</p>
<p>
Current transfer fee: <font color="blue"><b><idv id="transferFee">***</div></font> $ASTR</b> /item<br>
</p>
<p>
<b>Item ID</b>: <input type="number" id="transfer_item_id" style="width:80px;">&nbsp;&nbsp;to <b>Murasaki-san</b>: <input type="number" id="transfer_summoner" style="width:80px;">&nbsp;&nbsp;<button onclick="transfer_item();">Pay fee and Send item</button><br>
</p>
<br>

<h3>Buyback Treasury &#x1f33c;</h3>
<p>
NFT items can be burned for a fixed price at any time on the Buyback Treasury. Buyback prices of each items will increase as the ecosystem grows.
</p>
<button onclick="location.href='buyback.html'">Visit Buyback Market</a></button>    


</main>

<!--- Footer--->

<footer class="footer">

<img src="logo_icon.png" width="18">
Donation:&nbsp;
<button style="height:26px;font-size:75%" onclick="donate(1);">
<script type="text/javascript">write_icon(1)</script>&nbsp;1 $ASTR
</button>
&nbsp;
<button style="height:26px;font-size:75%" onclick="donate(10);">
<script type="text/javascript">write_icon(10)</script>&nbsp;10 $ASTR
</button>
&nbsp;
<button style="height:26px;font-size:75%" onclick="donate(100);">
<script type="text/javascript">write_icon(100)</script>&nbsp;100 $ASTR
</button>

<br>

<label><input type="radio" name="donationWallet" value="0x2F7448B62134e52C2f46454d0089Ae21B5248805">For Coder&#x1f400;: <font size="-2">0x2F7448B62134e52C2f46454d0089Ae21B5248805</font></label><br>
<label><input type="radio" name="donationWallet" checked value="0xe79d44309e4daD2CD7eaf3CA4CD1d80a6b8733f7">For Illustrator&#x1f408;: <font size="-2">0xe79d44309e4daD2CD7eaf3CA4CD1d80a6b8733f7</font></label><br>

<br>

</footer>

</body>

<script>
    twemoji.parse(document.body);
    check_connected();
    loading_in_html();
</script>

</html>
